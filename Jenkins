pipeline{
    
    agent any
    
    stages{
        
        // Creating a file to test pushing
        
        stage("create-file"){
            steps{
               withCredentials([usernamePassword(credentialsId: "github", usernameVariable: "USER", passwordVariable: "PASS")]){
                sh """
                git config --global user.name "Ali Mohammadi"
                git config --global user.email "ali@ali.com"
                git remote set-url origin "https://${USER}:${PASS}@gitlab.com/1ghorbani/test.git"

                echo "this is test" > info.txt
                git add .
                git commit -m "UPDATEED FILE"
                
                git branch

                git push "https://1ghorbani:Reza@12354@github.com/1ghorbani/test.git HEAD:main"
                git status
                """
               }
            }
        }
}
}
