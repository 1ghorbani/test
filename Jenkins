pipeline{
    
    agent any
    
    stages{
        
        // Creating a file to test pushing
        
        stage("create-file"){
            steps{
                sh """
                rm -rf test
                mkdir test
                cd test

                git config --global user.name "Ali Mohammadi"
                git config --global user.email "ali@ali.com"
                
                git remote remove origin
                git remote add origin git@github.com:1ghorani/test.git

                git init
                git branch -M main

                echo "this is test" > info.txt
                
                git add .
                git commit -m "UPDATEED FILE"
                
                git pull --rebase origin main
                git push -u origin main
                git status
                """
            }
        }
}
}
